- type: entity
  id: BaseRYGround
  parent: BaseStructure
  description: It's ground.
  abstract: true
  components:
  - type: Clickable
  - type: Sprite
    sprite: Structures/Furniture/Tables/wood.rsi
  - type: Icon
    sprite: Structures/Furniture/Tables/wood.rsi
    state: full
  - type: Damageable
    damageContainer: Inorganic
    damageModifierSet: Metallic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors: #excess damage (nuke?). avoid computational cost of spawning entities.
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
    - trigger:
        !type:DamageTrigger
        damage: 15
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: WoodDestroy
      - !type:SpawnEntitiesBehavior
        spawn:
          MaterialWoodPlank:
            min: 1
            max: 1
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Tag
    tags:
    - Wooden
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepGrass

- type: entity
  id: RYOuterTrench
  parent: BaseRYGround
  name: outer trench
  description: Seems like you could dig a trench here.
  components:
  - type: Sprite
    sprite: Tiles/Planet/dirt.rsi
    state: dirt
  - type: Icon
    sprite: Tiles/Planet/dirt.rsi
    state: dirt
  - type: Climbable
  - type: OuterTrench
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.45"
        density: 55
        mask: # tables should collide with other tables
        - TableMask
        layer:
        - TableLayer

- type: entity
  id: RYInnerTrench
  parent: BaseRYGround
  name: inner trench
  components:
  - type: Sprite
    sprite: Structures/Furniture/Carpets/black_carpet.rsi
    state: full
  - type: Icon
    sprite: Structures/Furniture/Carpets/black_carpet.rsi
    state: full
  - type: InnerTrench
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeAabb
          bounds: "-0.45,-0.45,0.45,0.45"
        hard: false
  #        density: 55
        mask: # tables should collide with other tables
        - TableMask
        layer:
        - LowImpassable
